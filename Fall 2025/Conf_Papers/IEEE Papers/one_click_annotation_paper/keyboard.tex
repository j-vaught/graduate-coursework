\documentclass[tikz, margin=10pt]{standalone}
\usepackage{tikz}
\usetikzlibrary{calc, shadows.blur, positioning, shapes.geometric}

% --- DARK THEME COLORS (original) ---
\definecolor{casecolor}{RGB}{40, 44, 52}
\definecolor{keybase}{RGB}{33, 37, 43}
\definecolor{keytopHigh}{RGB}{65, 70, 80}
\definecolor{keytopLow}{RGB}{45, 50, 60}
\definecolor{legendcolor}{RGB}{220, 223, 228}
\definecolor{accentHigh}{RGB}{209, 154, 102}
\definecolor{accentLow}{RGB}{180, 120, 80}

% New: "command" key colors (cool blue)
\definecolor{commandHigh}{RGB}{97, 175, 239}
\definecolor{commandLow}{RGB}{70, 130, 200}

% New: right-side modifier keys (purple)
\definecolor{modifierHigh}{RGB}{171, 121, 255}
\definecolor{modifierLow}{RGB}{120, 82, 200}

% --- LIGHT THEME COLORS (white keyboard) ---
\definecolor{casecolorLight}{RGB}{245, 246, 250}
\definecolor{keybaseLight}{RGB}{225, 228, 235}
\definecolor{keytopHighLight}{RGB}{255, 255, 255}
\definecolor{keytopLowLight}{RGB}{235, 238, 245}
\definecolor{legendcolorLight}{RGB}{40, 44, 52}
\definecolor{accentHighLight}{RGB}{240, 195, 120}
\definecolor{accentLowLight}{RGB}{215, 165, 90}
\definecolor{commandHighLight}{RGB}{140, 180, 250}
\definecolor{commandLowLight}{RGB}{110, 150, 220}

% Light theme purple for modifiers
\definecolor{modifierHighLight}{RGB}{205, 180, 255}
\definecolor{modifierLowLight}{RGB}{175, 145, 235}

% --- KEYBOARD LAYOUT MACRO ---
% #1 = Gap Size (e.g., 0.15 for loose, 0.02 for tight)
% #2 = Title Label (optional; empty = no title)
\newcommand{\DrawKeyboard}[2]{%
    \begin{tikzpicture}[
        scale=1.5,
        key/.style={
            rounded corners=2pt,
            shading = axis,
            top color=keytopHigh,
            bottom color=keytopLow,
            shading angle=15,
            draw=keybase,
            line width=1.5pt,
            blur shadow={shadow blur steps=3, shadow xshift=0.5pt, shadow yshift=-0.5pt, shadow opacity=40}
        },
        accent/.style={
            key,
            top color=accentHigh,
            bottom color=accentLow,
            text=white
        },
        command/.style={
            key,
            top color=commandHigh,
            bottom color=commandLow,
            text=white
        },
        modifier/.style={
            key,
            top color=modifierHigh,
            bottom color=modifierLow,
            text=white
        },
        keyboardCase/.style={
            fill=casecolor,
            rounded corners=6pt,
            draw=black!80,
            line width=1.5pt
        }
    ]

    % Define Gap and Offset based on argument #1
    \pgfmathsetmacro{\gap}{#1}
    \pgfmathsetmacro{\offset}{\gap / 2}
    
    % Draw Case
    \draw[keyboardCase] (-0.25, -4.83) rectangle (14.82, 0.25);

    % Internal Key Command
    % \drawkey{x}{y}{width}{label}{style}
    \def\drawkey##1##2##3##4##5{%
        \pgfmathsetmacro{\kw}{##3 - \gap}%
        \pgfmathsetmacro{\kh}{1.0 - \gap}%
        \node[
            minimum width=\kw cm, 
            minimum height=\kh cm, 
            anchor=north west, 
            ##5
        ] (k) at (##1 + \offset, ##2 - \offset) {};%
        \node[text=legendcolor, font=\small\bfseries] at (k.center) {##4};%
    }

    % --- ROW 1 ---
    \drawkey{0}{0}{1}{Esc}{command}
    \drawkey{1}{0}{1}{1}{command}
    \drawkey{2}{0}{1}{2}{command}
    \drawkey{3}{0}{1}{3}{command}
    \drawkey{4}{0}{1}{4}{command}
    \drawkey{5}{0}{1}{5}{command}
    \drawkey{6}{0}{1}{6}{key}
    \drawkey{7}{0}{1}{7}{key}
    \drawkey{8}{0}{1}{8}{key}
    \drawkey{9}{0}{1}{9}{key}
    \drawkey{10}{0}{1}{0}{key}
    \drawkey{11}{0}{1}{-}{key}
    \drawkey{12}{0}{1}{=}{key}
    % Right-side Bksp in purple
    \drawkey{13}{0}{2.48}{Bksp}{modifier}

    % --- ROW 2 ---
    \drawkey{0}{-1}{1.73}{Tab}{command}
    \drawkey{1.5}{-1}{1}{Q}{command}
    \drawkey{2.5}{-1}{1}{W}{key}
    \drawkey{3.5}{-1}{1}{E}{key}
    \drawkey{4.5}{-1}{1}{R}{key}
    \drawkey{5.5}{-1}{1}{T}{key}
    \drawkey{6.5}{-1}{1}{Y}{key}
    \drawkey{7.5}{-1}{1}{U}{key}
    \drawkey{8.5}{-1}{1}{I}{key}
    \drawkey{9.5}{-1}{1}{O}{key}
    \drawkey{10.5}{-1}{1}{P}{key}
    \drawkey{11.5}{-1}{1}{[}{key}
    \drawkey{12.5}{-1}{1}{]}{key}
    \drawkey{13.5}{-1}{1.73}{\textbackslash}{key}

    % --- ROW 3 ---
    \drawkey{0}{-2}{2.12}{Caps}{key}
    \drawkey{1.75}{-2}{1}{A}{command}
    \drawkey{2.75}{-2}{1}{S}{command}
    \drawkey{3.75}{-2}{1}{D}{key}
    \drawkey{4.75}{-2}{1}{F}{key}
    \drawkey{5.75}{-2}{1}{G}{key}
    \drawkey{6.75}{-2}{1}{H}{key}
    \drawkey{7.75}{-2}{1}{J}{key}
    \drawkey{8.75}{-2}{1}{K}{key}
    \drawkey{9.75}{-2}{1}{L}{key}
    \drawkey{10.75}{-2}{1}{;}{key}
    \drawkey{11.75}{-2}{1}{'}{key}
    % Right-side Enter in purple
    \drawkey{12.75}{-2}{2.85}{Enter}{modifier}

    % --- ROW 4 ---
    % Left Shift stays accent (gold)
    \drawkey{0}{-3}{2.87}{Shift}{accent}
    \drawkey{2.25}{-3}{1}{Z}{command}
    \drawkey{3.25}{-3}{1}{X}{key}
    \drawkey{4.25}{-3}{1}{C}{command}
    \drawkey{5.25}{-3}{1}{V}{command}
    \drawkey{6.25}{-3}{1}{B}{command}
    \drawkey{7.25}{-3}{1}{N}{key}
    \drawkey{8.25}{-3}{1}{M}{key}
    \drawkey{9.25}{-3}{1}{,}{key}
    \drawkey{10.25}{-3}{1}{.}{key}
    \drawkey{11.25}{-3}{1}{/}{key}
    % Right Shift in purple
    \drawkey{12.25}{-3}{3.6}{Shift}{modifier}

    % --- ROW 5 ---
    % Left Ctrl and left Alt remain accent (gold)
    \drawkey{0}{-4}{1.37}{Ctrl}{accent}
    \drawkey{1.25}{-4}{1.37}{Win}{key}
    \drawkey{2.5}{-4}{1.37}{Alt}{accent}
    \drawkey{3.75}{-4}{8.87}{}{command}%space bar
    % Right Alt in purple
    \drawkey{10}{-4}{1.37}{Alt}{modifier}
    \drawkey{11.25}{-4}{1.37}{Fn}{key}
    \drawkey{12.5}{-4}{1.37}{Win}{key}
    % Right Ctrl in purple
    \drawkey{13.75}{-4}{1.37}{Ctrl}{modifier}

    % Optional title centered under the case if #2 is nonempty
    \ifx&#2&%
      % no title
    \else
      % Case goes from x = -0.25 to 14.82, center ~ 7.285
      \node[anchor=north, text=legendcolor, font=\small] at (7.285, -5.2) {#2};
    \fi

    \end{tikzpicture}%
}

\begin{document}

% White keyboard (light theme)
{
  \colorlet{casecolor}{casecolorLight}%
  \colorlet{keybase}{keybaseLight}%
  \colorlet{keytopHigh}{keytopHighLight}%
  \colorlet{keytopLow}{keytopLowLight}%
  \colorlet{legendcolor}{legendcolorLight}%
  \colorlet{accentHigh}{accentHighLight}%
  \colorlet{accentLow}{accentLowLight}%
  \colorlet{commandHigh}{commandHighLight}%
  \colorlet{commandLow}{commandLowLight}%
  \colorlet{modifierHigh}{modifierHighLight}%
  \colorlet{modifierLow}{modifierLowLight}%
  \DrawKeyboard{-0.35}{}
}

\vspace{1cm}

% Dark keyboard (original theme)
\DrawKeyboard{-0.35}{}

\end{document}
